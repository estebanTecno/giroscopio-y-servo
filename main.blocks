<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="yla2zZ-kMGxH`qFgPi@r">x</variable><variable id="83~(fMW@gXczgA!76j~V">angulo</variable></variables><block type="device_forever" id="$D9G.uk)TgCco$#gX(Co" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="@!pEKd+DuWAE?#7m7zi3"><field name="VAR" id="yla2zZ-kMGxH`qFgPi@r">x</field><comment pinned="false" h="80" w="160">Leer inclinación en eje X (izquierda/derecha)</comment><value name="VALUE"><shadow type="math_number" id=":jg6lXn:{L2w)!oiAf5E"><field name="NUM">0</field></shadow><block type="device_get_rotation" id="(5~,im:.W~@c,){OjCis"><field name="NAME">Rotation.Roll</field></block></value><next><block type="variables_set" id="FKn%|M=CJ*bKvuKSZtx-"><field name="VAR" id="83~(fMW@gXczgA!76j~V">angulo</field><comment pinned="false" h="80" w="160">"x" varía aprox. entre -90 (izquierda) y 90 (derecha)
Convertimos ese rango a 0–180 grados para el servo</comment><value name="VALUE"><shadow type="math_number" id="R}YY`7VFE!)b6;)h3HV#"><field name="NUM">0</field></shadow><block type="math_map" id="nLg}X0XM.KXRLVpq4R7e"><value name="value"><block type="variables_get" id="B~:XYgS4r0+K;Y;u%Js*"><field name="VAR" id="yla2zZ-kMGxH`qFgPi@r">x</field></block></value><value name="fromLow"><shadow type="math_number" id="X!p,:cm_:k6{LzCZF#1*"><field name="NUM">-90</field></shadow></value><value name="fromHigh"><shadow type="math_number" id="Q$(JHa{XaqI7Z=7A$Hr["><field name="NUM">90</field></shadow></value><value name="toLow"><shadow type="math_number" id="UnX=FK,}`OFWC2:mUZEp"><field name="NUM">0</field></shadow></value><value name="toHigh"><shadow type="math_number" id="1Al$Rhn@H{-S.4PcY`9n"><field name="NUM">180</field></shadow></value></block></value><next><block type="variables_set" id=":vUPdoCLx0xYF5DJ7ijS"><field name="VAR" id="83~(fMW@gXczgA!76j~V">angulo</field><comment pinned="false" h="80" w="160">Limitamos el valor por seguridad</comment><value name="VALUE"><shadow type="math_number" id="u~Z7E[7+PiA^|);2D@/("><field name="NUM">0</field></shadow><block type="math_constrain_value" id="qPm;r8z:3s@)V8=@0]0v"><value name="value"><block type="variables_get" id="AWw0lzD)_`iqh~pk8K[h"><field name="VAR" id="83~(fMW@gXczgA!76j~V">angulo</field></block></value><value name="low"><shadow type="math_number" id="3n6))|PNyRz4=%LVNT$#"><field name="NUM">0</field></shadow></value><value name="high"><shadow type="math_number" id="-1MJaYUkR/_lJ-:B9)W0"><field name="NUM">180</field></shadow></value></block></value><next><block type="device_set_servo_pin" id="Y}=-GKBYQOrPCGDpmI[8"><comment pinned="false" h="80" w="160">Movemos el servo al ángulo calculado</comment><value name="name"><shadow type="analog_pin_shadow" id="SpOqlt;vDH#D~^rj~JKR"><field name="pin">AnalogPin.P1</field></shadow></value><value name="value"><shadow type="math_number_minmax" id="VR6Pe7Rr|^9DY~;oWWRi"><mutation min="0" max="180" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="I*6p-C%$?ybk/bhJCE48"><field name="VAR" id="83~(fMW@gXczgA!76j~V">angulo</field></block></value><next><block type="device_pause" id="6ReB,_gI4+l6qC-LOj)2"><comment pinned="false" h="80" w="160">Pequeña pausa para suavizar el movimiento</comment><value name="pause"><shadow type="timePicker" id="aOP?:VK9k!S?6^d#FSmP"><field name="ms">50</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></xml>